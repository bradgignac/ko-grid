<!DOCTYPE html>
<html>
<head>
  <title>KO Grid</title>

  <link rel="stylesheet" type="text/css" href="canon.min.css">
  <script src="http://knockoutjs.com/downloads/knockout-3.0.0.js"></script>
  <script src="ko-grid.js"></script>
  <style type="text/css">
    .checkbox-column {
      width: 100px;
    }
  </style>

</head>
<body>
  <div id="grid-container" data-bind="grid: $data"></div>

  <script type="application/javascript">
  var nameColumn, checkboxColumn;

  nameColumn = {
    'name': 'Name',
    'class': 'name-column',
    'template': function (data) { return '<span>' + data.name() + ' </span>'; }
  };

  checkboxColumn = {
    'name': 'Count',
    'class': 'checkbox-column',
    'template': function (data) { return '<input type="checkbox"></input>'; }
  };

  document.addEventListener("DOMContentLoaded", function () {
    var i, data, grid, element;

    i = 1;
    data = ko.observableArray();
    grid = ko.grid(data, [
      checkboxColumn,
      nameColumn
    ]);

    element = document.getElementById('grid-container');

    ko.applyBindings(grid, element);

    data.push({ name: ko.observable("foo") });
    data.push({ name: ko.observable("Tim") });
    data.push({ name: ko.observable("Cook") });

    setTimeout(function () {
      data.push({ name: ko.observable("Live") });
    }, 2000);

    setTimeout(function () {
      grid.data()[0].name('Boom!');
    }, 5000);
  });

  </script>
</body>
</html>
